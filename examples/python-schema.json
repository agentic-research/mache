{
  "version": "v1",
  "nodes": [
    {
      "name": "imports",
      "selector": "$",
      "children": [
        {
          "name": "{{.module}}",
          "selector": "(import_statement name: (dotted_name) @module) @scope",
          "files": [
            {
              "name": "source",
              "content_template": "{{.scope}}"
            }
          ]
        },
        {
          "name": "{{.module}}",
          "selector": "(import_from_statement module_name: (dotted_name) @module) @scope",
          "files": [
            {
              "name": "source",
              "content_template": "{{.scope}}"
            }
          ]
        }
      ]
    },
    {
      "name": "classes",
      "selector": "$",
      "children": [
        {
          "name": "{{.name}}",
          "selector": "(class_definition name: (identifier) @name) @scope",
          "files": [
            {
              "name": "source",
              "content_template": "{{.scope}}"
            }
          ],
          "children": [
            {
              "name": "methods",
              "selector": "$",
              "children": [
                {
                  "name": "{{.name}}",
                  "selector": "(function_definition name: (identifier) @name) @scope",
                  "files": [
                    {
                      "name": "source",
                      "content_template": "{{.scope}}"
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "name": "functions",
      "selector": "$",
      "children": [
        {
          "name": "{{.name}}",
          "selector": "(function_definition name: (identifier) @name) @scope",
          "files": [
            {
              "name": "source",
              "content_template": "{{.scope}}"
            }
          ]
        }
      ]
    }
  ]
}
